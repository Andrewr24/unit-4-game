<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Crystal Collector</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


</head>

<body>
    <div class="p-3 mb-2 bg-warning text-white">
        <div class="container">
            <div class="row-2">
                <div class="col">
                    <h1>Crystals Collector!</h1>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row">
            <div class="col-9">
                <p class="instructions"><a class="text-info">You will be given a random number at the start of the game. <br> There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.<br> You will win the game by matching your total score to random number, you lose the game if your total score goes above the random number. <br> The value of each crystal is hidden from you until you click on it. <br> Each time when the game starts, the game will change the values of each crystal.</a></p>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col">
                <div> <span id="random-number"> </span></div>  
                <div class="win-counter">Wins:0</div>
                <div class="loss-counter">Losses:0</div>
                
                </div>
        </div>
    </div>
    
    <div class="container">
        <div class="row-1">
            <div class="col-2">
                    <button> <img class="image" id="image1" src="assets/images/crystal-1.png"> </button>
                    <button> <img class="image" id="image2" src="assets/images/crystal-2.png"> </button>
                    <button> <img class="image" id="image3" src="assets/images/crystal-3.png"> </button>
                    <button> <img class="image" id="image4" src="assets/images/crystal-4.png"> </button>
            </div>
       </div>         
    </div>
    <div class="container">
        <div class="row">
            <div class="col-4">
                <div> <span id= "total-number"></span>Total: </div>
            </div>
        </div>
    </div>
  <div class="container">
      <div class="row">
          <div class="col-4">
              <div> <span id ="user-score"></span>Score:</div>
          </div>
      </div>
  </div>
          
</body>
<script
src="https://code.jquery.com/jquery-3.4.1.min.js"
integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
crossorigin="anonymous">

$(document).ready(function() {

var random = Math.floor(Math.random()*102+19);

$(".random-number").text(random);

var num1 = Math.floor(Math.random()*12+1);
var num2 = Math.floor(Math.random()*12+1);
var num3 = Math.floor(Math.random()*12+1);
var num4 = Math.floor(Math.random()*12+1);

var userTotal= 0;
var wins = 0;
var losses = 0;

$("win-counter").text(wins);
$("loss-counter").text(losses);

function reset() {
    random = Math.floor(Math.random()*102+19);
    console.log(random);
    $("#random-number").text(random);
    var num1 = Math.floor(Math.random()*12+1);
    var num2 = Math.floor(Math.random()*12+1);
    var num3 = Math.floor(Math.random()*12+1);
    var num4 = Math.floor(Math.random()*12+1);
    userTotal = 0;
    $("#user-score").text(userTotal);
}

function winner() {
    alert("You Won!!");
    wins++;
    $(".win-counter").text(wins);
    reset();
}

function loser() {
    alert("You Lose!!");
    losses++;
    $(".loss-counter").text(losses);
    reset();
}

var crystalValues = {};
crystalValues[1] = Math.floor(Math.random()*12+1);
crystalValues[2] = Math.floor(Math.random()*12+1);
crystalValues[3] = Math.floor(Math.random()*12+1);
crystalValues[4] = Math.floor(Math.random()*12+1);




function getCrystalHandler(crystalKey) {
return function() {
userTotal = userTotal + crystalValues[crystalKey];
console.log("New userTotal " + userTotal);
$("#user-score").text(userTotal);

if (userTotal === random) {
    winner()
}

else if (userTotal > random) {
    loser()
} 
}
}

$("#image1").on("click", getCrystalHandler(1));
$("#image2").on("click", getCrystalHandler(2));
$("#image3").on("click", getCrystalHandler(3));
$("#image4").on("click", getCrystalHandler(4));})

</script>

</html>